import { useEffect, useRef } from "react";
export const useFontResize = (value) => {
    const divRef = useRef(null);
    const spanRef = useRef(null);
    const getFontSize = () => {
        return window
            .getComputedStyle(divRef.current, "")
            .getPropertyValue("font-size");
    };
    const resetFontSize = () => {
        divRef.current.style.fontSize = "14vmin";
    };
    useEffect(() => {
        resetFontSize();
        const reduceFontSize = () => {
            if (divRef.current.clientWidth >
                spanRef.current.offsetWidth + 40) {
                return;
            }
            divRef.current.style.fontSize =
                parseFloat(getFontSize()) - 10 + "px";
            reduceFontSize();
        };
        if (divRef.current.clientWidth !== 0 &&
            spanRef.current.offsetWidth !== 0) {
            reduceFontSize();
        }
    }, [value]);
    return {
        divRef,
        spanRef,
    };
};
